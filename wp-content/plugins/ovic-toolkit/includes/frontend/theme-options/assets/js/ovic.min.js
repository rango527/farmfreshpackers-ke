!function(e,i,t,n){"use strict";var o={},c=e("body"),a=c.hasClass("rtl");o.funcs={},o.vars={},o.helper={name_replace:function(i){i.find(".ovic-cloneable-item").each(function(i){e(this).find(":input").each(function(){this.name=this.name.replace(/\[(\d+)\]/,"["+i+"]")})})},debounce:function(e,i,t){var n;return function(){var o=this,c=arguments,a=function(){n=null,t||e.apply(o,c)},r=t&&!n;clearTimeout(n),n=setTimeout(a,i),r&&e.apply(o,c)}}},e.fn.ovic_clone=function(){for(var i=e.fn.clone.apply(this,arguments),t=this.find("select").add(this.filter("select")),n=i.find("select").add(i.filter("select")),o=0;o<t.length;++o)for(var c=0;c<t[o].options.length;++c)t[o].options[c].selected===!0&&(n[o].options[c].selected=!0);return i},e.fn.ovic_navigation=function(){return this.each(function(){var i,t=e(this),n=t.closest(".ovic"),o=n.find(".ovic-section-id"),c=n.find(".ovic-expand-all");t.find("ul:first a").on("click",function(n){n.preventDefault();var c=e(this),a=c.next(),r=c.data("section");a.is("ul")?c.closest("li").toggleClass("ovic-tab-active"):(i=e("#ovic-tab-"+r),i.removeClass("hidden").siblings().addClass("hidden"),t.find("a").removeClass("ovic-section-active"),c.addClass("ovic-section-active"),o.val(r),i.data("inited")||i.ovic_reload_script())}),c.on("click",function(i){i.preventDefault(),n.find(".ovic-wrapper").toggleClass("ovic-show-all"),n.find(".ovic-section").not(".ovic-onload").data("inited")||n.find(".ovic-section").not(".ovic-onload").ovic_reload_script(),e(this).find(".fa").toggleClass("fa-eye-slash").toggleClass("fa-eye")})})},e.fn.ovic_search=function(){return this.each(function(){var i=e(this),t=i.find("input");t.on("change keyup",function(){var i=e(this).val(),t=e(".ovic-wrapper"),n=t.find(".ovic-section"),o=n.find("> .ovic-field:not(.hidden)"),c=o.find("> .ovic-title, .ovic-search-tags");i.length>3?(o.addClass("ovic-hidden"),t.addClass("ovic-search-all"),c.each(function(){var t=e(this);if(t.text().match(new RegExp(".*?"+i+".*?","i"))){var n=t.closest(".ovic-field");n.removeClass("ovic-hidden"),n.parent().ovic_reload_script()}})):(o.removeClass("ovic-hidden"),t.removeClass("ovic-search-all"))})})},e.fn.ovic_sticky=function(){return this.each(function(){var n=e(this),o=e(i),c=n.find(".ovic-header-inner"),a=parseInt(c.css("padding-left"))+parseInt(c.css("padding-right")),r=32,l=0,s=!1,d=function(){l=o.scrollTop(),v()},v=function(){s||requestAnimationFrame(function(){f(),s=!1}),s=!0},f=function(){var e=n.offset().top,o=Math.max(r,e-l),s=Math.max(t.documentElement.clientWidth,i.innerWidth||0);r>=o&&s>782?(c.css({width:n.outerWidth()-a}),n.css({height:n.outerHeight()}).addClass("ovic-sticky")):(c.removeAttr("style"),n.removeAttr("style").removeClass("ovic-sticky"))};o.on("scroll resize",d),d()})},e.fn.ovic_dependency=function(i){return this.each(function(){var t=this,o=e(this);t.init=function(){t.ruleset=e.deps.createRuleset();var c={show:function(e){e.removeClass("hidden")},hide:function(e){e.addClass("hidden")},log:!1,checkTargets:!1};i!==n?t.depSub():t.depRoot(),e.deps.enable(o,t.ruleset,c)},t.depRoot=function(){o.each(function(){e(this).find("[data-controller]").each(function(){var i=e(this),n=i.data("controller").split("|"),o=i.data("condition").split("|"),c=i.data("value").toString().split("|"),a=t.ruleset;e.each(n,function(e,t){var n=c[e]||"",r=o[e]||o[0];a=a.createRule('[data-depend-id="'+t+'"]',r,n),a.include(i)})})})},t.depSub=function(){o.each(function(){e(this).find("[data-sub-controller]").each(function(){var i=e(this),n=i.data("sub-controller").split("|"),o=i.data("sub-condition").split("|"),c=i.data("sub-value").toString().split("|"),a=t.ruleset;e.each(n,function(e,t){var n=c[e]||"",r=o[e]||o[0];a=a.createRule('[data-sub-depend-id="'+t+'"]',r,n),a.include(i)})})})},t.init()})},e.fn.ovic_chosen=function(){return this.each(function(){e(this).chosen({allow_single_deselect:!0,disable_search_threshold:15,width:parseFloat(e(this).actual("width")+25)+"px"})})},e.fn.ovic_field_image_selector=function(){return this.each(function(){e(this).find("label").on("click",function(){e(this).siblings().find("input").prop("checked",!1)})})},e.fn.ovic_field_sorter=function(){return this.each(function(){var i=e(this),t=i.find(".ovic-enabled"),n=i.find(".ovic-disabled"),o=n.length?n:!1;t.sortable({connectWith:o,placeholder:"ui-sortable-placeholder",update:function(e,t){var n=t.item.find("input");t.item.parent().hasClass("ovic-enabled")?n.attr("name",n.attr("name").replace("disabled","enabled")):n.attr("name",n.attr("name").replace("enabled","disabled")),i.ovic_customizer_refresh()}}),o&&o.sortable({connectWith:t,placeholder:"ui-sortable-placeholder"})})},e.fn.ovic_field_upload=function(){return this.each(function(){var i,t=e(this),n=t.find(".ovic-button"),o=t.find(".ovic-image-preview"),c=t.find(".ovic-image-remove"),a=t.find("img"),r=t.find("input"),l=["jpg","gif","png","svg","jpeg"];n.on("click",function(e){if(e.preventDefault(),"undefined"!=typeof wp&&wp.media&&wp.media.gallery){if(i)return void i.open();i=wp.media({title:n.data("frame-title"),library:{type:n.data("upload-type")},button:{text:n.data("insert-title")}}),i.on("select",function(){var e=i.state().get("selection").first();r.val(e.attributes.url).trigger("change")}),i.open()}}),o.length&&(r.on("change keyup",function(){var i=e(this),t=i.val(),n=t.toLowerCase().slice(t.toLowerCase().lastIndexOf(".")-1+2);e.inArray(n,l)>-1?(o.removeClass("hidden"),a.attr("src",t)):o.addClass("hidden")}),c.on("click",function(e){e.preventDefault(),r.val("").trigger("change"),o.addClass("hidden")}))})},e.fn.ovic_field_image=function(){return this.each(function(){var i,t=e(this),n=t.find(".ovic-button"),o=t.find(".ovic-image-preview"),c=t.find(".ovic-image-remove"),a=t.find("input"),r=t.find("img");n.on("click",function(e){if(e.preventDefault(),"undefined"!=typeof wp&&wp.media&&wp.media.gallery){if(i)return void i.open();i=wp.media({library:{type:"image"}}),i.on("select",function(){var e=i.state().get("selection").first().attributes,t="undefined"!=typeof e.sizes&&"undefined"!=typeof e.sizes.thumbnail?e.sizes.thumbnail.url:e.url;o.removeClass("hidden"),r.attr("src",t),a.val(e.id).trigger("change")}),i.open()}}),c.on("click",function(e){e.preventDefault(),a.val("").trigger("change"),o.addClass("hidden")})})},e.fn.ovic_field_gallery=function(){return this.each(function(){var i,t,n=e(this),o=n.find(".ovic-edit-gallery"),c=n.find(".ovic-clear-gallery"),a=n.find("ul"),r=n.find("input");n.find("img");n.on("click",".ovic-button, .ovic-edit-gallery",function(n){var l=e(this),s=l.hasClass("ovic-edit-gallery")?"edit":"add",d="edit"===s?"gallery-edit":"gallery-library";if(n.preventDefault(),"undefined"!=typeof wp&&wp.media&&wp.media.gallery){if(i)return i.open(),void i.setState(d);i=wp.media({library:{type:"image"},frame:"post",state:"gallery",multiple:!0}),i.on("open",function(){var e=r.val();if(e){var t=e.split(","),n=i.state("gallery-edit").get("library");i.setState(d),t.forEach(function(e){var i=wp.media.attachment(e);n.add(i?[i]:[])})}}),i.on("update",function(){var e="",t=[],n=i.state().get("library");n.each(function(i){var n=i.attributes,o="undefined"!=typeof n.sizes.thumbnail?n.sizes.thumbnail.url:n.url;e+='<li><img src="'+o+'"></li>',t.push(n.id)}),r.val(t).trigger("change"),a.html("").append(e),c.removeClass("hidden"),o.removeClass("hidden")}),i.open(),t=s}}),c.on("click",function(e){e.preventDefault(),a.html(""),r.val("").trigger("change"),c.addClass("hidden"),o.addClass("hidden")})})},e.fn.ovic_field_group=function(){return this.each(function(){var i=e(this),t=i.find(".ovic-cloneable-wrapper"),n=i.find(".ovic-cloneable-data"),c=i.find(".ovic-cloneable-hidden"),a=n.data("unique-id"),r=parseInt(n.data("limit"));t.accordion({header:".ovic-cloneable-title",collapsible:!0,active:!1,animate:!1,heightStyle:"content",icons:{header:"ovic-cloneable-header-icon fa fa-angle-right",activeHeader:"ovic-cloneable-header-icon fa fa-angle-down"},beforeActivate:function(e,i){var t=i.newPanel;t.length&&!t.data("opened")&&(t.find(".ovic-field").removeClass("ovic-no-script"),t.ovic_reload_script("sub"),t.data("opened",!0))}}),t.sortable({axis:"y",handle:".ovic-cloneable-title",helper:"original",cursor:"move",placeholder:"widget-placeholder",start:function(e,i){t.accordion({active:!1}),t.sortable("refreshPositions")},stop:function(e,i){o.helper.name_replace(t),t.ovic_customizer_refresh()}}),i.on("click",".ovic-cloneable-add",function(e){e.preventDefault();var i=t.find(".ovic-cloneable-item").length;if(r&&i+1>r)return void n.show();var o=c.ovic_clone().removeClass("ovic-cloneable-hidden");o.find(":input").each(function(){this.name=this.name.replace("_nonce",a).replace("num",i)}),t.append(o),t.accordion("refresh"),t.accordion({active:i}),t.ovic_customizer_refresh(),t.ovic_customizer_listen(!0)}),t.on("click",".ovic-cloneable-clone",function(i){if(i.preventDefault(),r&&parseInt(t.find(".ovic-cloneable-item").length+1)>r)return void n.show();var c=e(this),a=c.closest(".ovic-cloneable-item"),l=a.ovic_clone().addClass("ovic-cloned"),s=t.children();s.eq(a.index()).after(l),o.helper.name_replace(t),t.accordion("refresh"),t.ovic_customizer_refresh(),t.ovic_customizer_listen(!0)}),t.on("click",".ovic-cloneable-remove",function(i){i.preventDefault(),e(this).closest(".ovic-cloneable-item").remove(),o.helper.name_replace(t),t.ovic_customizer_refresh(),n.hide()})})},e.fn.ovic_field_accordion=function(){return this.each(function(){var i=e(this).find(".ovic-accordion-title");i.on("click",function(){var i=e(this),t=i.find(".ovic-accordion-icon"),n=i.next();t.hasClass("fa-angle-right")?t.removeClass("fa-angle-right").addClass("fa-angle-down"):t.removeClass("fa-angle-down").addClass("fa-angle-right"),n.data("opened")||(n.find(".ovic-field").removeClass("ovic-no-script"),n.ovic_reload_script("sub"),n.data("opened",!0)),n.toggleClass("ovic-accordion-open")})})},e.fn.ovic_field_slider=function(){return this.each(function(){var i=e(this),t=i.find("input"),n=i.find(".ovic-slider-ui"),o=t.data(),c=t.val()||0;n.slider({range:"min",value:parseInt(c),min:parseInt(o.min),max:parseInt(o.max),step:parseInt(o.step),slide:function(e,i){t.val(i.value).trigger("change")}}),t.keyup(function(){n.slider("value",parseInt(t.val()))})})},e.fn.ovic_field_repeater=function(){return this.each(function(){var i=e(this),t=i.find(".ovic-cloneable-wrapper"),n=i.find(".ovic-cloneable-hidden"),c=i.find(".ovic-cloneable-data"),a=c.data("unique-id"),r=parseInt(c.data("limit"));t.sortable({axis:"y",handle:".ovic-cloneable-sort",helper:"original",cursor:"move",placeholder:"widget-placeholder",stop:function(e,i){o.helper.name_replace(t),t.ovic_customizer_refresh()}}),i.on("click",".ovic-cloneable-add",function(e){e.preventDefault();var i=t.find(".ovic-cloneable-item").length;if(r&&i+1>r)return void c.show();var o=n.ovic_clone().removeClass("ovic-cloneable-hidden");t.append(o),o.find(":input").each(function(){this.name=this.name.replace("_nonce",a).replace("num",i)}),o.find(".ovic-field").removeClass("ovic-no-script"),o.ovic_reload_script("sub"),t.ovic_customizer_refresh(),t.ovic_customizer_listen(!0)}),t.on("click",".ovic-cloneable-clone",function(i){if(i.preventDefault(),r&&parseInt(t.find(".ovic-cloneable-item").length+1)>r)return void c.show();var n=e(this),a=n.closest(".ovic-cloneable-item"),l=a.index(),s=a.ovic_clone(),d=t.children();d.eq(l).after(s),s.addClass("ovic-cloned").ovic_reload_script("sub"),o.helper.name_replace(t),t.ovic_customizer_refresh(),t.ovic_customizer_listen(!0)}),t.on("click",".ovic-cloneable-remove",function(i){i.preventDefault(),e(this).closest(".ovic-cloneable-item").remove(),c.hide(),o.helper.name_replace(t),t.ovic_customizer_refresh()})})},e.fn.ovic_field_icon=function(){return this.each(function(){var i=e(this);i.on("click",".ovic-icon-add",function(t){var n=e("#ovic-modal-icon");t.preventDefault(),n.show(),c.addClass("ovic-icon-scrolling"),o.vars.$icon_target=i,o.vars.icon_modal_loaded||e.ajax({type:"POST",url:ajaxurl,data:{action:"ovic-get-icons"},success:function(i){o.vars.icon_modal_loaded=!0;var t=n.find(".ovic-modal-content").html(i);t.on("click","a",function(i){i.preventDefault();var t=e(this).data("ovic-icon");o.vars.$icon_target.find("i").removeAttr("class").addClass(t),o.vars.$icon_target.find("input").val(t).trigger("change"),o.vars.$icon_target.find(".ovic-icon-preview").removeClass("hidden"),o.vars.$icon_target.find(".ovic-icon-remove").removeClass("hidden"),n.hide(),c.removeClass("ovic-icon-scrolling")}),n.on("change keyup",".ovic-icon-search",function(){var i=e(this).val(),n=t.find("a");n.each(function(){var t=e(this);t.data("ovic-icon").search(new RegExp(i,"i"))<0?t.hide():t.show()})}),n.on("click",".ovic-modal-close, .ovic-modal-overlay",function(){n.hide(),c.removeClass("ovic-icon-scrolling")})}})}),i.on("click",".ovic-icon-remove",function(t){t.preventDefault(),i.find(".ovic-icon-preview").addClass("hidden"),i.find("input").val("").trigger("change"),e(this).addClass("hidden")})})},"function"==typeof Color&&(Color.fn.toString=function(){if(this._alpha<1)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var e=parseInt(this._color,10).toString(16);if(this.error)return"";if(e.length<6)for(var i=6-e.length-1;i>=0;i--)e="0"+e;return"#"+e}),o.funcs.PARSE_COLOR_VALUE=function(e){var i=e.replace(/\s+/g,""),t=-1!==i.indexOf("rgba")?parseFloat(100*i.replace(/^.*,(.+)\)/,"$1")):100,n=100>t?!0:!1;return{value:i,alpha:t,rgba:n}},e.fn.ovic_field_colorpicker=function(){return this.each(function(){var i=e(this),t=i.find(".ovic-wp-color-picker"),n=i.find(".wp-picker-container");if(n.length&&n.after(t).remove(),t.data("rgba")!==!1){var a=o.funcs.PARSE_COLOR_VALUE(t.val());t.wpColorPicker({clear:function(){t.trigger("keyup")},change:function(e,i){var n=i.color.toString();t.closest(".wp-picker-container").find(".ovic-alpha-slider-offset").css("background-color",n),t.val(n).trigger("change")},create:function(){var i=t.data("a8cIris"),n=t.closest(".wp-picker-container"),r=e('<div class="ovic-alpha-wrap"><div class="ovic-alpha-slider"></div><div class="ovic-alpha-slider-offset"></div><div class="ovic-alpha-text"></div></div>').appendTo(n.find(".wp-picker-holder")),l=r.find(".ovic-alpha-slider"),s=r.find(".ovic-alpha-text"),d=r.find(".ovic-alpha-slider-offset");l.slider({slide:function(e,n){var o=parseFloat(n.value/100);i._color._alpha=o,t.wpColorPicker("color",i._color.toString()),s.text(1>o?o:"")},create:function(){var e=parseFloat(a.alpha/100),v=1>e?e:"";s.text(v),d.css("background-color",a.value),n.on("click",".wp-picker-clear",function(){i._color._alpha=1,s.text("").trigger("change"),l.slider("option","value",100).trigger("slide")}),n.on("click",".wp-picker-default",function(){var e=o.funcs.PARSE_COLOR_VALUE(t.data("default-color")),n=parseFloat(e.alpha/100),c=1>n?n:"";i._color._alpha=n,s.text(c),l.slider("option","value",e.alpha).trigger("slide")}),n.on("click",".wp-color-result",function(){r.toggle()}),c.on("click.wpcolorpicker",function(){r.hide()})},value:a.alpha,step:1,min:1,max:100})}})}else t.wpColorPicker({clear:function(){t.trigger("keyup")},change:function(e,i){t.val(i.color.toString()).trigger("change")}})})},e.fn.ovic_field_ace_editor=function(){return this.each(function(){if("undefined"!=typeof ace){var i=e(this),t=i.find(".ovic-ace-editor-textarea"),n=JSON.parse(i.find(".ovic-ace-editor-options").val()),o=ace.edit(i.find(".ovic-ace-editor").attr("id"));o.getSession().setValue(t.val()),o.setOptions(n),o.on("change",function(e){t.val(o.getSession().getValue()).trigger("change")})}})},e.fn.ovic_field_datepicker=function(){return this.each(function(){var i,t=e(this),n=t.find("input"),o=JSON.parse(t.find(".ovic-datepicker-options").val()),c='<div class="ovic-datepicker-wrapper"></div>',a={beforeShow:function(t,n){i=e("#ui-datepicker-div"),i.wrap(c)},onClose:function(){var e=setInterval(function(){i.is(":hidden")&&(i.unwrap(c),clearInterval(e))},100)}};o=e.extend({},o,a),n.datepicker(o)})},e.fn.ovic_field_tabbed=function(){return this.each(function(){var i=e(this),t=i.find(".ovic-tabbed-nav a"),n=i.find(".ovic-tabbed-section");t.on("click",function(i){i.preventDefault();var t=e(this),o=t.index();t.addClass("ovic-tabbed-active").siblings().removeClass("ovic-tabbed-active"),n.eq(o).removeClass("hidden").siblings().addClass("hidden")})})},e.fn.ovic_reset_field=function(){return this.each(function(){var i=e(this),t=i.data("field");e(this).on("click",function(i){i.preventDefault(),e.ajax({type:"POST",url:ajaxurl,data:{action:"ovic-reset-field",reset:t},success:function(e){location.reload()}})})})},e.fn.ovic_field_backup=function(){return this.each(function(){var i=e(this),t=i.find(".ovic-reset-js"),n=i.find(".ovic-import-js"),o=i.find(".ovic-data").data();t.on("click",function(i){e(".ovic-options").addClass("ovic-saving"),i.preventDefault(),e.ajax({type:"POST",url:ajaxurl,data:{action:"ovic-reset-options",unique:o.unique,wpnonce:o.wpnonce},success:function(){location.reload()}})}),n.on("click",function(t){e(".ovic-options").addClass("ovic-saving"),t.preventDefault(),e.ajax({type:"POST",url:ajaxurl,data:{action:"ovic-import-options",unique:o.unique,wpnonce:o.wpnonce,value:i.find(".ovic-import-data").val()},success:function(e){location.reload()}})})})},e.fn.ovic_confirm=function(){return this.each(function(){e(this).on("click",function(e){confirm("Are you sure?")||e.preventDefault()})})},e.fn.ovic_save=function(){return this.each(function(){var i=e(this),n=i.data("save"),o=i.val(),c=e(".ovic-save-ajax"),a=e(".ovic-options");e(t).on("keydown",function(e){(e.ctrlKey||e.metaKey)&&"s"===String.fromCharCode(e.which).toLowerCase()&&(e.preventDefault(),i.trigger("click"))}),i.on("click",function(t){if(c.length){"object"==typeof tinyMCE&&tinyMCE.triggerSave(),a.addClass("ovic-saving"),i.prop("disabled",!0).attr("value",n);var r=e("#OVIC_form").serialize();e.post("options.php",r).error(function(){alert("Error, Please try again.")}).success(function(){a.removeClass("ovic-saving"),i.prop("disabled",!1).attr("value",o)}),t.preventDefault()}else i.addClass("disabled").attr("value",n)})})},e.fn.ovic_taxonomy=function(){return this.each(function(){var i=e(this),t=i.parent();if("addtag"===t.attr("id")){var n=t.find("#submit"),o=i.find(".ovic-field").ovic_clone(),c=e("#the-list"),a=!1;n.on("click",function(){a||c.on("DOMNodeInserted",function(){a&&(i.empty(),i.html(o),o=o.ovic_clone(),i.ovic_reload_script(),a=!1)}),a=!0})}})},e.fn.ovic_shortcode=function(){var i,o=this;return o.validate_atts=function(t,o){var c;return o.data("check")!==n&&i===t?"":(i=t,o.closest(".pseudo-field").hasClass("hidden")===!0?"":o.hasClass("pseudo")===!0?"":(c=o.is(":checkbox")||o.is(":radio")?o.is(":checked")?o.val():"":o.val(),o.data("check")!==n&&(c=o.closest(".ovic-field").find("input:checked").map(function(){return e(this).val()}).get()),null!==c&&c!==n&&""!==c&&0!==c.length?" "+t+'="'+c+'"':""))},o.insertAtChars=function(e,i){var t="undefined"!=typeof e[0].name?e[0]:e;return t.value.length&&"undefined"!=typeof t.selectionStart?(t.focus(),t.value.substring(0,t.selectionStart)+i+t.value.substring(t.selectionEnd,t.value.length)):(t.focus(),i)},o.send_to_editor=function(i,t){var n;if("undefined"!=typeof tinymce&&(n=tinymce.get(t)),n&&!n.isHidden())n.execCommand("mceInsertContent",!1,i);else{var c=e("#"+t);c.val(o.insertAtChars(c,i)).trigger("change")}},this.each(function(){var n,a,r,l,s,d=e(this),v=d.find(".ovic-modal-content"),f=d.find(".ovic-modal-insert"),u=d.find("select"),h=d.data("modal-id");e(t).on("click",'.ovic-shortcode-button[data-modal-button-id="'+h+'"]',function(i){var t=e(this);i.preventDefault(),s=t,n=t.data("editor-id")||!1,d.show(),c.addClass("ovic-shortcode-scrolling")}),u.on("change",function(){var i=e(this);a=i.val(),r=i.find(":selected").data("view"),a.length?e.ajax({type:"POST",url:ajaxurl,data:{action:"ovic-get-shortcode-"+h,shortcode:a},success:function(i){v.html(i),f.parent().removeClass("hidden"),l=e(".ovic-shortcode-clone",d).ovic_clone(),v.ovic_reload_script("sub")}}):(f.parent().addClass("hidden"),v.html(""))}),f.on("click",function(t){t.preventDefault();var l="",v="data-atts",f="data-clone-atts",u="data-clone-id";switch(r){case"contents":d.find("["+v+"]").each(function(){var i=e(this),t=i.data("atts");l+="["+t+"]",l+=i.val(),l+="[/"+t+"]"});break;case"clone":l+="["+a,e("["+v+"]",d.find(".ovic-field:not(.hidden)")).each(function(){var i=e(this),t=i.data("atts");l+=o.validate_atts(t,i)}),l+="]",d.find("["+u+"]").each(function(){var i=e(this),t=i.data("clone-id");l+="["+t,e("["+f+"]",i.find(".ovic-field:not(.hidden)")).each(function(){var i=e(this),n=i.data("clone-atts");"content"!==n?l+=o.validate_atts(n,i):"content"===n&&(l+="]",l+=i.val(),l+="[/"+t)}),l+="]"}),l+="[/"+a+"]";break;case"clone_duplicate":d.find("["+u+"]").each(function(){var i=e(this),t=i.data("clone-id");l+="["+t,e("["+f+"]",i.find(".ovic-field:not(.hidden)")).each(function(){var i=e(this),n=i.data("clone-atts");"content"!==n?l+=o.validate_atts(n,i):"content"===n&&(l+="]",l+=i.val(),l+="[/"+t)}),l+="]"});break;default:l+="["+a,e("["+v+"]",d.find(".ovic-field:not(.hidden)")).each(function(){var i=e(this),t=i.data("atts");"content"!==t?l+=o.validate_atts(t,i):"content"===t&&(l+="]",l+=i.val(),l+="[/"+a)}),l+="]"}if(n)o.send_to_editor(l,n);else{var h=s.next();h.val(o.insertAtChars(h,l)).trigger("change")}i=null,d.hide(),c.removeClass("ovic-shortcode-scrolling")}),v.on("click",".ovic-clone-button",function(e){e.preventDefault();var i=l.ovic_clone().addClass("ovic-shortcode-cloned");v.find(".ovic-clone-button-wrapper").before(i),i.find(":input").attr("name","_nonce_"+i.index()),i.find(".ovic-remove-clone").show().on("click",function(e){i.remove(),e.preventDefault()}),i.ovic_reload_script("sub")}),d.on("click",".ovic-modal-close, .ovic-modal-overlay",function(){d.hide(),c.removeClass("ovic-shortcode-scrolling")})})},e.fn.ovic_tooltip=function(){return this.each(function(){var i,t,o=e(this);o.on({mouseenter:function(){i=e('<div class="ovic-tooltip"></div>').html(o.attr("data-title")).appendTo("body"),t=a?o.offset().left+24:o.offset().left-i.outerWidth(),i.css({top:o.offset().top-(i.outerHeight()/2-12),left:t})},mouseleave:function(){i!==n&&i.remove()}})})},e.fn.ovic_customizer_refresh=function(){return this.each(function(){var i=e(this),o=i.closest(".ovic-customize-complex");if(e(t).trigger("ovic-customizer-refresh",i),wp.customize!==n&&0!==o.length){var c=o.find(":input"),a=o.data("unique-id"),r=o.data("option-id"),l=c.serializeObjectOVIC(),s=e.isEmptyObject(l)?"":l[a][r];wp.customize.control(a+"["+r+"]").setting.set(s)}})},e.fn.ovic_customizer_listen=function(i){return this.each(function(){if(wp.customize!==n){var t=i?e(this).closest(".ovic-customize-complex"):e(this),c=t.find(":input"),a=t.data("unique-id"),r=t.data("option-id");a!==n&&c.on("change keyup",o.helper.debounce(function(){var i=t.find(":input").serializeObjectOVIC(),n=e.isEmptyObject(i)?"":i[a][r];wp.customize.control(a+"["+r+"]").setting.set(n)},250))}})},e(t).on("expanded",".control-section-ovic",function(){var i=e(this);i.data("inited")||(i.ovic_reload_script(),i.find(".ovic-customize-complex").ovic_customizer_listen())}),e.fn.ovic_widgets=function(){return this.each(function(){var i=e(this),t=i.find(".widget-liquid-right .widget");t.each(function(){var i=e(this),t=i.find(".widget-top");t.on("click",function(){i.ovic_reload_script()})})})},e(t).on("widget-added widget-updated",function(e,i){i.ovic_reload_script()}),e.fn.ovic_reload_script=function(i){return this.each(function(){var n=e(this),o=n;n.find(".ovic-field-image-selector").not(".ovic-no-script").ovic_field_image_selector(),n.find(".ovic-field-image").not(".ovic-no-script").ovic_field_image(),n.find(".ovic-field-gallery").not(".ovic-no-script").ovic_field_gallery(),n.find(".ovic-field-sorter").not(".ovic-no-script").ovic_field_sorter(),n.find(".ovic-field-upload").not(".ovic-no-script").ovic_field_upload(),n.find(".ovic-field-color_picker").not(".ovic-no-script").ovic_field_colorpicker(),n.find(".ovic-field-icon").not(".ovic-no-script").ovic_field_icon(),n.find(".ovic-field-group").not(".ovic-no-script").ovic_field_group(),n.find(".ovic-field-accordion").not(".ovic-no-script").ovic_field_accordion(),n.find(".ovic-field-slider").not(".ovic-no-script").ovic_field_slider(),n.find(".ovic-field-repeater").not(".ovic-no-script").ovic_field_repeater(),n.find(".ovic-field-ace_editor").not(".ovic-no-script").ovic_field_ace_editor(),n.find(".ovic-field-date").not(".ovic-no-script").ovic_field_datepicker(),n.find(".ovic-field-tabbed").not(".ovic-no-script").ovic_field_tabbed(),n.find(".ovic-field-backup").not(".ovic-no-script").ovic_field_backup(),n.find(".ovic-help").not(".ovic-no-script").ovic_tooltip(),n.find(".chosen").not(".ovic-no-script").ovic_chosen(),n.closest(".ovic-wrapper").length>0&&(o=n.closest(".ovic-wrapper")),o.ovic_dependency(),"sub"===i&&o.ovic_dependency("sub"),n.data("inited",!0),e(t).trigger("ovic-reload-script",n)})},i.addEventListener("load",function(i){e(".ovic-save").ovic_save(),e(".ovic-confirm").ovic_confirm(),e(".ovic-nav").ovic_navigation(),e(".ovic-search").ovic_search(),e(".ovic-sticky-header").ovic_sticky(),e(".ovic-taxonomy").ovic_taxonomy(),e(".ovic-shortcode").ovic_shortcode(),e(".widgets-php").ovic_widgets(),e(".ovic-onload").ovic_reload_script(),e(".reset-field-customizer").ovic_reset_field()},!1)}(jQuery,window,document);