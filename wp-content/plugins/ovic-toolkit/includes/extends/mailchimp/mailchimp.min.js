!function(e){"use strict";var s=function(s){var t={},a=s.serializeArray();return e.each(a,function(){t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""}),t},t=function(e){var s=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return s.test(String(e).toLowerCase())};e(document).on("click",".submit-newsletter",function(a){var i=e(this).closest(".newsletter-form-wrap"),r=s(i),n=i.find('input[name="email"]');return""===n.val()?(e.growl?e.growl.error({title:ovic_mailchimp.notice_title,message:'<p class="growl-content">'+ovic_mailchimp.text_empty+"</p>"}):i.parent().append('<div class="return-message bg-danger">'+ovic_mailchimp.text_empty+"</div>"),!1):t(n.val())?i.hasClass("processing")?!1:(i.addClass("processing"),i.parent().find(".return-message").remove(),e.ajax({type:"POST",url:ovic_mailchimp.ajaxurl,data:{action:"submit_mailchimp_via_ajax",data:r},success:function(s){"yes"==e.trim(s.success)?(i.trigger("reset"),e.growl?e.growl.notice({title:ovic_mailchimp.notice_title,message:'<p class="growl-content">'+s.message+"</p>"}):i.parent().append('<div class="return-message bg-success">'+s.message+"</div>"),e(document.body).trigger("ovic_newsletter_success",s.message)):(e.growl?e.growl.error({title:ovic_mailchimp.notice_title,message:'<p class="growl-content">'+s.message+"</p>"}):i.parent().append('<div class="return-message bg-danger">'+s.message+"</div>"),e(document.body).trigger("ovic_newsletter_error",s.message))},complete:function(){i.removeClass("processing")},ajaxError:function(){i.removeClass("processing")}}),void a.preventDefault()):(e.growl?e.growl.error({title:ovic_mailchimp.notice_title,message:'<p class="growl-content">'+ovic_mailchimp.format_email+"</p>"}):i.parent().append('<div class="return-message bg-danger">'+ovic_mailchimp.format_email+"</div>"),!1)})}(jQuery);